<!DOCTYPE html>
<html lang="en" ng-app="forecast-app">
  <head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="css/main.css">
    <title>Get Your Weather Forecast</title>
  </head>
  <body>
    <main ng-controller="LocationController">
      <div class="container-fluid">
        <div class="row">
          <div id="app-title" class="col-md-12 col-sm-12 col-xs-12">
            <h1>Get Your Weather Forecast</h1>
          </div>
        </div>
        <div class="row">
          <!-- Navigation Tabs (http://www.w3schools.com/bootstrap/bootstrap_tabs_pills.asp) -->
          <ul class="nav nav-tabs" data-tabs="tabs">
            <li class="active">
              <a data-toggle="tab" href="#ad">An Address,</a>
            </li>
            <li class="">
              <a data-toggle="tab" href="#cd">Coordinates</a>
            </li>
          </ul>
          <!-- Content -->
          <div class="col-md-12">
            <div class="tab-content">
              <div class="tab-pane active" id="ad">
                <p>
                  <label for="user-address">Enter your address below:</label>
                </p>
                <p>
                  <input id="user-address" type="text" placeholder="Address" ng-model="userAddress" size="50" autofocus>
                </p>
                <p>
                  <button id="submit-address" type="button" class="btn btn-success btn-sm" ng-click='getWeatherAddress(userAddress)'>Get the Forecast</button>
                </p>
              </div>
              <div class="tab-pane" id="cd">
                <p>
                  <label for="user-lat">Enter your latitude and longitude below:</label>
                </p>
                <p>
                  <input id="user-lat" type="text" placeholder="Latitude" ng-model="latitude" autofocus>
                  <input id="user-lon" type="text" placeholder="Longitude" ng-model="longitude">
                </p>
                <p>
                  <button id="submit-coords" type="button" class="btn btn-success btn-sm" ng-click='getWeather(latitude, longitude)'>Get the Forecast</button>
                </p>
              </div>
              <!-- <button ng-click="log()">Log</button> -->
            </div>
          </div>
        </div>
        <div class="row">
          <div class="forecast" ng-show='weather.currently'>
            <div class="col-md-10">
              <h4>Your location: {{ address }} ({{ coordinates.lat | number:4 }}, {{ coordinates.lng | number:4 }})</h4>
              <h3>Your Current Weather:</h3>
            </div>
            <div class="col-md-10">
              <div class="col-md-1">
                <img ng-src="images/{{weather.currently.icon}}.png"
                class="img-responsive" alt="{{weather.currently.icon}}">
              </div>
              <div class="col-md-9">
                <h3>{{weather.currently.summary}}</h3>
              </div>
              <div class="col-md-2">
                <!-- The following filters the time to a date-short format -->
                <strong>{{weather.currently.time*1000 | date:"short"}}</strong>
              </div>
            </div>
            <div class="col-md-10">
              <div class="col-md-3">
                <p>{{weather.currently.temperature | number:0}}&deg F</p>
              </div>
              <div class="col-md-3 col-md-offset-6">
                <p>{{weather.currently.precipProbability*100 | number:0}}% rain</p>
              </div>
            </div>
            <div class="col-md-10">
              <h3>Your Forecast:</h3>
            </div>
            <!-- Navigation Tabs -->
            <div class="col-md-10">
              <!-- Navigation Tabs -->
              <ul class="nav nav-tabs">
                <li class="active">
                  <a href="#da" data-toggle="tab">Daily</a>
                </li>
                <li class="">
                  <a href="#hr" data-toggle="tab">Hourly</a>
                </li>
                <li class="">
                  <a href="#mn" data-toggle="tab">Minutely</a>
                </li>
              </ul>
              <!-- Content -->
              <div class="tab-content">
                <div id="da" class="tab-pane active">
                  <div>
                    <ul>
                      <li ng-repeat="day in weather.daily.data">
                        {{day}}
                      </li>
                    </ul>
                    Daily
                  </div>
                </div>
                <div id="hr" class="tab-pane">
                  <ul>
                    <li ng-repeat="hour in weather.hourly.data">
                      {{hour}}
                    </li>
                  </ul>
                  Hourly
                </div>
                <div id="mn" class="tab-pane">
                  <ul>
                    <li ng-repeat="minute in weather.minutely.data">
                      {{minute}}
                    </li>
                  </ul>
                  Minutely
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- <forecast>
      <div class="container-fluid">
        <div class="row">

        </div>
      </div>
    </forecast> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="js/app.js"></script>
    <script src="js/controllers/location.controller.js"></script>
    <script src="js/controllers/daily.controller.js"></script>
    <script src="js/controllers/hourly.controller.js"></script>
    <script src="js/controllers/minutely.controller.js"></script>
    <script src="js/services/weather.service.js"></script>
    <script src="js/services/geocode.service.js"></script>
  </body>
</html>
